webpackJsonp([1],{"3aQL":function(t,e){},"6Z2P":function(t,e){},"6xwC":function(t,e){},BeXr:function(t,e){},MPzD:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n=a("mvHQ"),r=a.n(n),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login content wrapper"},[a("form",{attrs:{action:"",method:"post"},on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"username bt-input"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-user"}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.loginData.username,expression:"loginData.username"}],staticClass:"username",attrs:{type:"text",id:"username",name:"username",autocomplete:"off",placeholder:"亲，这里输入用户名哦~"},domProps:{value:t.loginData.username},on:{input:function(e){e.target.composing||t.$set(t.loginData,"username",e.target.value)}}}),t._v(" "),t.loginData.username?a("span",{staticClass:"empty",on:{click:function(e){t.loginData.username=""}}},[t._v("X")]):t._e()]),t._v(" "),a("div",{staticClass:"password bt-input"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-password"}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.loginData.password,expression:"loginData.password"}],staticClass:"password",attrs:{type:"password",id:"password",name:"password",autocomplete:"off",placeholder:"亲，确保周围环境再输入密码哦~"},domProps:{value:t.loginData.password},on:{input:function(e){e.target.composing||t.$set(t.loginData,"password",e.target.value)}}}),t._v(" "),t.loginData.password?a("span",{staticClass:"empty",on:{click:function(e){t.loginData.password=""}}},[t._v("X")]):t._e()]),t._v(" "),a("div",{staticClass:"orther"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.loginData.isRememberUser,expression:"loginData.isRememberUser"}],staticClass:"rememberme",attrs:{type:"checkbox",id:"rememberme",name:"rememberme",value:"rememberme"},domProps:{checked:Array.isArray(t.loginData.isRememberUser)?t._i(t.loginData.isRememberUser,"rememberme")>-1:t.loginData.isRememberUser},on:{click:t.rememberTips,change:function(e){var a=t.loginData.isRememberUser,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r="rememberme",i=t._i(a,r);s.checked?i<0&&t.$set(t.loginData,"isRememberUser",a.concat([r])):i>-1&&t.$set(t.loginData,"isRememberUser",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.loginData,"isRememberUser",n)}}}),t._v(" "),a("label",{staticClass:"rememberme",attrs:{for:"rememberme"}},[t._v("Remember Me")]),a("br"),t._v(" "),a("span",{staticClass:"turnTo",on:{click:t.turnToSign}},[t._v("还没有用户名？点击这里注册一个吧")])]),t._v(" "),a("input",{staticClass:"submit",attrs:{type:"submit",value:"登录"},on:{click:t.login}})])])},staticRenderFns:[]},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signIn content wrapper"},[a("form",{attrs:{action:"",method:"post"},on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"username bt-input"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-user"}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signInData.username,expression:"signInData.username"}],class:{error:!t.rule[0].status},attrs:{type:"text",name:"username",autocomplete:"off",placeholder:"用户名为6-20位数字、字母、下划线"},domProps:{value:t.signInData.username},on:{blur:function(e){t.formMatch(0,t.signInData.username)},input:function(e){e.target.composing||t.$set(t.signInData,"username",e.target.value)}}}),t._v(" "),t.signInData.username?a("span",{staticClass:"empty",on:{click:function(e){t.signInData.username=""}}},[t._v("X")]):t._e()]),t._v(" "),a("div",{staticClass:"password bt-input"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-password"}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signInData.password,expression:"signInData.password"}],class:{error:!t.rule[1].status},attrs:{type:"password",name:"password",autocomplete:"off",placeholder:"密码为6-20位数字、字母、下划线"},domProps:{value:t.signInData.password},on:{blur:function(e){t.formMatch(1,t.signInData.password)},input:function(e){e.target.composing||t.$set(t.signInData,"password",e.target.value)}}}),t._v(" "),t.signInData.password?a("span",{staticClass:"empty",on:{click:function(e){t.signInData.password=""}}},[t._v("X")]):t._e()]),t._v(" "),a("div",{staticClass:"password2 bt-input"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-password"}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signInData.password2,expression:"signInData.password2"}],class:{error:!t.rule[2].status},attrs:{type:"password",name:"password2",autocomplete:"off",placeholder:"请再次输入密码"},domProps:{value:t.signInData.password2},on:{blur:function(e){t.passwordMatch()},input:function(e){e.target.composing||t.$set(t.signInData,"password2",e.target.value)}}}),t._v(" "),t.signInData.password2?a("span",{staticClass:"empty",on:{click:function(e){t.signInData.password2=""}}},[t._v("X")]):t._e()]),t._v(" "),a("div",{staticClass:"phone bt-input"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-Phone"}})]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.signInData.phone,expression:"signInData.phone"}],class:{error:!t.rule[3].status},attrs:{type:"text",name:"phone",autocomplete:"off",placeholder:"留个电话，方便联系~(可选项)"},domProps:{value:t.signInData.phone},on:{blur:function(e){t.formMatch(3,t.signInData.phone)},input:function(e){e.target.composing||t.$set(t.signInData,"phone",e.target.value)}}}),t._v(" "),t.signInData.phone?a("span",{staticClass:"empty",on:{click:function(e){t.signInData.phone=""}}},[t._v("X")]):t._e()]),t._v(" "),a("div",{staticClass:"orther"},[a("span",{staticClass:"turnTo",on:{click:t.turnToLogin}},[t._v("已经注册了？点击这里立刻登录把")])]),t._v(" "),a("input",{staticClass:"submit",attrs:{type:"submit",value:"注册"},on:{click:t.signIn}})])])},staticRenderFns:[]};var l={props:["loginData","signInData","loginOrSign"],components:{Login:a("VU/8")({props:["loginData"],data:function(){return{rememberTip:!1}},methods:{login:function(){this.$emit("login")},turnToSign:function(){this.$emit("turnToSign")},rememberTips:function(){this.rememberTip||(this.rememberTip=!0,this.$notify.info({title:"消息",message:"设置在登录后生效~"}))}}},i,!1,null,null,null).exports,SignIn:a("VU/8")({props:["signInData"],data:function(){return{rule:[{reg:/^\w{6,20}$/,message:"用户名请输入6-20位数字、字母、下划线",status:!0},{reg:/^\w{6,20}$/,message:"密码请输入6-20位数字、字母、下划线",status:!0},{message:"密码应与第一次保持一致",status:!0},{reg:/^1\d{10}$/,message:"请输入合法的手机号",status:!0}]}},methods:{signIn:function(){for(var t=!0,e=0;e<3;e++)this.rule[e].status||(this.messages("请别逗我好嘛，关键信息还没有输入完全","warning"),t=!1);t&&this.$emit("signIn")},turnToLogin:function(){this.$emit("turnToLogin")},messages:function(t,e){this.$message({message:t,type:e,center:!0})},formMatch:function(t,e){var a=this.rule[t];a.reg.test(e)?a.status=!0:(this.messages(a.message,"warning"),a.status=!1)},passwordMatch:function(){var t=this.rule[2];this.signInData.password!==this.signInData.password2?(this.messages(t.message,"warning"),t.status=!1):t.status=!0}}},o,!1,function(t){a("6xwC")},null,null).exports},data:function(){return{}},methods:{login:function(){this.$emit("login")},signIn:function(){this.$emit("signIn")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog"},[a("h1",{staticClass:"header wrapper"},[t._v("VueResume Editor")]),t._v(" "),"login"===t.loginOrSign.key?a("Login",{attrs:{loginData:t.loginData},on:{turnToSign:function(e){t.loginOrSign.key="sign"},login:t.login}}):t._e(),t._v(" "),"sign"===t.loginOrSign.key?a("SignIn",{attrs:{signInData:t.signInData},on:{turnToLogin:function(e){t.loginOrSign.key="login"},signIn:t.signIn}}):t._e()],1)},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(t){a("e9ud")},null,null).exports,m={props:["currentUser"],created:function(){var t=this;setInterval(function(){t.currentUser&&(t.username=t.currentUser.username)},1e3)},data:function(){return{username:""}},methods:{handleCommand:function(t){"buildNew"===t?this.buildNew():"saveData"===t?this.saveData():"logOut"===t&&this.logOut()},logOut:function(){this.$emit("logOut")},preview:function(){this.$emit("preview")},saveData:function(){this.$emit("saveData")},buildNew:function(){this.$emit("buildNew")}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"logo"},[t._v("VueResumer")]),t._v(" "),a("div",{staticClass:"headButton"},[a("el-button",{attrs:{type:"primary",round:""},on:{click:t.preview}},[t._v("预览")]),t._v(" "),a("el-dropdown",{staticClass:"menu",on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n        欢迎您 "+t._s(this.username)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"buildNew"}},[t._v("新建简历")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"saveData"}},[t._v("保存简历")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"logOut",divided:""}},[t._v("退出登录")])],1)],1)],1)])},staticRenderFns:[]};var p=a("VU/8")(m,d,!1,function(t){a("3aQL")},null,null).exports,g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"objectEditor"},[a("h2",[t._v(t._s(t.title))]),t._v(" "),a("el-form",{staticClass:"objectEditor",attrs:{"label-position":"top","label-width":"80px"}},t._l(t.objectData,function(e,s){return a("el-form-item",{key:s,attrs:{label:s}},[a("el-input",{model:{value:t.objectData[s],callback:function(e){t.$set(t.objectData,s,e)},expression:"objectData[key]"}})],1)}))],1)},staticRenderFns:[]},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arrEditor"},[a("h2",[t._v(t._s(t.title))]),t._v(" "),a("el-form",{staticClass:"arrEditor",attrs:{"label-width":"75px"}},[t._l(t.arrData,function(e,s){return a("div",{key:e.key,staticClass:"container"},[t._l(e,function(s,n){return a("el-form-item",{key:n,attrs:{label:n}},[a("el-input",{attrs:{type:t.whichIsTextarea(t.Textarea,n)?"textarea":"text"},model:{value:e[n],callback:function(a){t.$set(e,n,a)},expression:"items[key]"}})],1)}),t._v(" "),a("el-button",{staticClass:"remove",on:{click:function(e){e.preventDefault(),t.remove(s)}}},[t._v("删除")]),t._v(" "),a("hr")],2)}),t._v(" "),a("el-form-item",{staticClass:"button"},[a("el-button",{on:{click:t.add}},[t._v("新增一项")]),t._v(" "),a("el-button",{on:{click:t.empty}},[t._v("清空所有")])],1)],2)],1)},staticRenderFns:[]},f={components:{objectEditor:a("VU/8")({props:["objectData","label","title"]},g,!1,null,null,null).exports,arrEditor:a("VU/8")({props:["arrData","label","title","Textarea"],methods:{whichIsTextarea:function(t,e){return-1!==t.indexOf(e)},saveArr:function(){var t={};for(var e in this.arrData[0])t[e]="";return t},remove:function(t){1!==this.arrData.length&&this.arrData.splice(t,1)},add:function(){this.arrData.push(this.saveArr())},empty:function(){for(var t in this.arrData.splice(1,this.arrData.length),this.arrData[0])this.arrData[0][t]=""}}},v,!1,null,null,null).exports},props:["resume"],data:function(){return{index:0,icon:["id-card-5","worklinemtui","185072bookreadstreamline","wodexiangmu01","jiangbei","Phone"]}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"label"},t._l([0,1,2,3,4,5],function(e){return a("li",{key:e,staticClass:"items",class:{action:t.index===e},on:{click:function(a){t.index=e}}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-"+t.icon[e]}})])])})),t._v(" "),a("ul",{staticClass:"content"},[a("li",{staticClass:"objectClass",class:{action:0===t.index}},[a("objectEditor",{attrs:{objectData:t.resume.personal,title:"个人信息"}})],1),t._v(" "),a("li",{staticClass:"arrClass",class:{action:1===t.index}},[a("arrEditor",{attrs:{arrData:t.resume.workMain,title:"工作经历",Textarea:["工作经历"]}})],1),t._v(" "),a("li",{staticClass:"arrClass",class:{action:2===t.index}},[a("arrEditor",{attrs:{arrData:t.resume.stady,title:"在校经历",Textarea:["在校经历"]}})],1),t._v(" "),a("li",{staticClass:"arrClass",class:{action:3===t.index}},[a("arrEditor",{attrs:{arrData:t.resume.project,title:"项目经历",Textarea:["项目内容","学到了？"]}})],1),t._v(" "),a("li",{staticClass:"arrClass",class:{action:4===t.index}},[a("arrEditor",{attrs:{arrData:t.resume.prize,title:"获奖情况",Textarea:[]}})],1),t._v(" "),a("li",{staticClass:"objectClass",class:{action:5===t.index}},[a("objectEditor",{attrs:{objectData:t.resume.contact,title:"联系方式"}})],1)])])},staticRenderFns:[]};var D=a("VU/8")(f,h,!1,function(t){a("BeXr")},null,null).exports,w={props:["arrData","title"],data:function(){return{epmty:!0}},methods:{filter:function(t){return t instanceof Array?this.isEpmty(t):[t]},isEpmty:function(t){var e=this;return t=t.map(function(t){var a={};for(var s in t)t[s]&&(a[s]=t[s],e.epmty=!1);return a})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"personal"},[!(t.arrData instanceof Array)||t.filter(t.arrData)&&!1===t.epmty?a("h2",{staticClass:"title"},[t._v(t._s(t.title))]):t._e(),t._v(" "),t._l(t.filter(t.arrData),function(e){return a("ul",{key:e.key,staticClass:"content"},t._l(e,function(e,s){return a("li",{key:s.key,staticClass:"list"},[t._v(t._s(s)+":"+t._s(e))])}))})],2)},staticRenderFns:[]},b={data:function(){return{arrDataCt:[{title:"个人信息",arrData:this.resume.personal,className:"personal"},{title:"工作经历",arrData:this.resume.workMain,className:"workMain"},{title:"学习经历",arrData:this.resume.stady,className:"stady"},{title:"项目经历",arrData:this.resume.project,className:"project"},{title:"获奖情况",arrData:this.resume.prize,className:"prize"},{title:"联系方式",arrData:this.resume.contact,className:"contact"}]}},props:["resume"],components:{Section:a("VU/8")(w,_,!1,null,null,null).exports}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",this._l(this.arrDataCt,function(t){return e("Section",{key:t.key,class:t.className,attrs:{title:t.title,arrData:t.arrData}})}))},staticRenderFns:[]};var y=a("VU/8")(b,C,!1,function(t){a("tsRx")},null,null).exports,I=a("JnRc"),x=a.n(I);x.a.init({appId:"0N7uC2niE1R8CL85PDvLsO20-gzGzoHsz",appKey:"RjJrlzDHVWh4JgWcGhxcb9vr"});var k={name:"App",components:{Topbar:p,Editor:D,Preview:y,Dialog:u},created:function(){this.loginData.username=window.localStorage.getItem("myUsername")||"",this.loginData.isRememberUser=window.localStorage.getItem("rememberStatus")||!1,this.getCurrentUser(),this.getOldSave()},data:function(){return{loginOrSign:{key:"login"},loginData:{isRememberUser:!1,username:"",password:""},signInData:{username:"",password:"",password2:"",phone:""},currentUser:null,hiddenStatus:!1,resume:{personal:{"姓名":"","年龄":"","城市":""},workMain:[{"公司":"","工作经历":""}],stady:[{"起始日期":"","学校":"","学位/专业":"","在校经历":""}],project:[{"项目名称":"","项目内容":"","学到了？":""}],prize:[{"获奖时间":"","奖项名称":""}],contact:{"电话":"","微信":"","电子邮箱":"",GitHub:""}}}},methods:{logOut:function(){x.a.User.logOut(),window.location.reload()},login:function(){var t=this;x.a.User.logIn(this.loginData.username,this.loginData.password).then(function(e){t.getCurrentUser(),t.getOldSave(),t.rememberUser(),t.message("登录成功！","success")},function(e){t.message("用户名或密码错误","warning")})},signIn:function(){var t=this,e=new x.a.User;e.setUsername(this.signInData.username),e.setPassword(this.signInData.password),e.signUp().then(function(e){t.message("恭喜您，账号注册成功","success"),t.loginOrSign.key="login",t.loginData.username=t.signInData.username,t.loginData.password=t.signInData.password},function(e){t.message("该账号已经被注册了","warning")})},rememberUser:function(){if(this.loginData.isRememberUser)return window.localStorage.setItem("myUsername",this.loginData.username),void window.localStorage.setItem("rememberStatus",this.loginData.isRememberUser);window.localStorage.removeItem("myUsername"),window.localStorage.removeItem("rememberStatus")},getCurrentUser:function(){var t=x.a.User.current();if(t){var e=t.id,a=t.createdAt,s=t.attributes.username;this.currentUser={id:e,createdAt:a,username:s}}},updateData:function(){var t=this,e=r()(this.resume),a=x.a.Object.createWithoutData("AllResume",this.resume.id);a.set("content",e),a.save().then(function(){t.message("更新成功","success")},function(e){t.message("更新失败","warning")})},saveData:function(){var t=this;if(this.resume.id)this.updateData();else{var e=r()(this.resume),a=new(x.a.Object.extend("AllResume")),s=new x.a.ACL;s.setReadAccess(x.a.User.current(),!0),s.setWriteAccess(x.a.User.current(),!0),a.set("content",e),a.setACL(s),a.save().then(function(e){t.resume.id=e.id,t.message("保存成功","success")},function(t){this.message("保存失败","warning")})}},getOldSave:function(){var t=this;this.currentUser&&new x.a.Query("AllResume").find().then(function(e){var a=e[0].id;t.resume=JSON.parse(e[0].attributes.content),t.resume.id=a},function(t){console.error(t)})},buildNew:function(){window.localStorage.removeItem("myResume"),window.location.reload()},message:function(t,e){this.$message({message:t,type:e,center:!0})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{hidden:t.hiddenStatus,login:null!==t.currentUser},attrs:{id:"app"}},[a("Dialog",{staticClass:"dialog",class:{hidden:null!==t.currentUser},attrs:{loginData:t.loginData,signInData:t.signInData,loginOrSign:t.loginOrSign},on:{login:t.login,signIn:t.signIn}}),t._v(" "),a("Topbar",{staticClass:"topbar",attrs:{currentUser:t.currentUser},on:{logOut:t.logOut,preview:function(e){t.hiddenStatus=!0},saveData:t.saveData,buildNew:t.buildNew}}),t._v(" "),a("main",[a("Editor",{staticClass:"editor",attrs:{resume:t.resume}}),t._v(" "),a("Preview",{staticClass:"preview",attrs:{resume:t.resume}}),t._v(" "),a("el-button",{staticClass:"quit",attrs:{type:"primary",plain:""},on:{click:function(e){t.hiddenStatus=!1}}},[t._v("退出预览")])],1)],1)},staticRenderFns:[]};var R=a("VU/8")(k,U,!1,function(t){a("6Z2P")},null,null).exports,$=(a("MPzD"),a("uMhA"),a("zL8q")),S=a.n($);a("tvR6");s.default.use(S.a),s.default.config.productionTip=!1,new s.default({el:"#app",components:{App:R},template:"<App/>"})},e9ud:function(t,e){},tsRx:function(t,e){},tvR6:function(t,e){},uMhA:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1b0088afaa6362af2c44.js.map